<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script>
        let arrowList = []; //화살을 무수히 담게 될 배열

        /*
        oop(객체지향언어)가 나오기 이전 시대의 절차지향 언어(예:c언어)로도, 현실을 반영할 수 있었음
        하지만, 절차지향 언어의 최대 기술은 함수였으나, 함수 만으로는 현실을 반영할 때 코드 중복이 발생함
        하지만 객체지향 언어는 현식의 사물을 반영할 때
        상태는 변수로, 동작이나 상태의 변경은 함수로 표현하되, 이 둘의 조합이 곧 사물임을
        깨닫게 된 상황에서 탄생된 언어
        즉 신기술이 아니라 현실을 반영하는 방법을 바꾼 것 뿐이다
        */

        //화살을 대량으로 생산할 수 있는 화살 거푸집 선언
        //2015년에 발표된 ES6부터 지원하는 클래스는 우리가 알고 있는 Java언어와 100% 일치하지 않음
        class Arrow{

            //Arrow가 가진 span = this.span / this를 쓰려면 생성자 constrctor()안에 넣어야 됨
            //즉 클래스가 보유한 변수는 반스디 생성자라 불리는 함수내에 작성해야 하고
            //클래스가 보유한 변수 앞에는 this를 명시해야 함
            constructor(){ //이 거푸집으로부터 생성시킬 사물들을 어떤 스타일로 생성할지를
                //결정하는 초기화 함수를 생성자라 부름
                this.span;
                this.x = 0; //화살의 x좌표
                this.velX = 5; //화살의 속도


                //init()함수 안에 있던 거 여기로 옮김
                //문서에 요소를 생성하여 left값을 증가시켜보자(계속)
                this.span = document.createElement("span"); //인라인이여서 너비, 높이 안먹음 -> inlineblock해주면 됨
                this.span.innerText="→";
                this.span.style.position="absolute";
                this.span.style.left =this.x + "px";
                this.span.style.top = 100 + "px";
                this.span.style.fontSize = 20 + "px";
                this.span.style.color = "red";
                
                //body는 .queryselector안해도 됨
                document.body.appendChild(this.span);
                
            }
            
            //화살을 움직이게 하는 함수 원래는 funtion move()였음
            //객체 지향 언어에서 객체가 보유한 함수는 메서드라 불러야 함
            //이유는 해당 객체의 상태나 움직임에 대한 방식(method)을 결정하므로 
            move(){
                this.x = this.x + this.velX;
                this.span.style.left = this.x + "px"; 

        }



            //화살을 태어나게 하는 함수
            // function init(){
            // } 안에 있는 거 contructor안에로 넣었음


        }



        function gameLoop(){
            for(let i=0; i<arrowList.length; i++){
                arrowList[i].move();

            }
            console.log("gameLoop called"); 
            //new Arrow();->Arrow클래스를 실행하려면 필요함
            //개발자 창에서 let arr = new Arrow();
            //arrowList.push(arr); 
            //arrowList.push(new Arrow()); 이거 계속 하면 화살표 계속 나옴
            
            
            
        }
        
        addEventListener("load", function(){
            arrowList.push(new Arrow());
            
            //init();
            //"gemeLoop()" -> 쌍따옴표 없이 gemeLoop 해도 똑같음
            setInterval(gameLoop, 10);
        });
    </script>
</head>
<body>
    
</body>
</html>