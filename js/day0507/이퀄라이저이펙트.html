<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script src="./js/Rect.js"></script>
    <script src="../../lib/common.js"></script>
    <script>

        //width, height, count 조정하면 상자 크기가 달라짐
        let width = 20; //막대 하나 당 너비
        let height = 300; //막대 하나 당 높이
        let count = 15; //생성하고 싶은 막대 수 
        let colorArray = ["red", "orange", "yellow", "green", "blue", "navy", "purple"];

        //함수 선언문
        // function test(){
        // }

        //함수표현식
        // let test = function(){
        // }

        //람다식
        //화살표 함수 내에서의 this는 상위 스코프(영역) 객체를 가리킴
        let test=()=>{
            console.log("나 호출했어?", this);

        }

        //원하는 수 만큼의 막대를 만들어서 부모에 부착하되 부모의 크기는
        //결정된 것이 아니라 자식의 크기와 수에 비례하여 결정하자(동적으로 부여하자)
        //let init = function() -> 함수표현식 -> 함수를 변수에 대입
        //JavaScript언어는 함수를 일급시민(first-class citizen) 취급
        //컴퓨터 공학에서는 일급시민이란 어떤 대상을 일반 데이터처럼 취급할 수 있는 특징을 말함
        //즉 자바스크립트는 함수를 변수에 담거나, 함수를 매개변수 전달하거나 함수를 리턴도할 수 있음
        let init = function(){
            
            let wrapper = document.createElement("div");
            wrapper.style.width = width*count + "px";
            wrapper.style.height = height + "px";
            wrapper.style.margin = "auto";
            wrapper.style.background = "lightgray";
            wrapper.style.position = "relative";
            //wrapper.style.transform = "scaleX(-1)";
            wrapper.style.overflow = "hidden";

            document.body.appendChild(wrapper);

            for(let i=0; i<count; i++){
                //10개 내에서 모두 다른 색을 구해야하므로 랜덤은for문 안에서 작성
                let bg = colorArray[parseInt(Math.random()*colorArray.length)];
                new Rect(wrapper, i*width, getRandom(height), width, height, bg);
                // new Rect(wrapper, i*width, 0, width, height, colorArray[getRandom(colorArray.length-1)]);
            }
        }

        addEventListener("load", function(){
            init();
        });
    </script>
</head>
<body>
    
</body>
</html>